(function(r,n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof exports?module.exports=n(require("jquery")):n(r.jQuery)})(this,function(r,n){function t(r){return null==r?r+"":"object"==typeof r?u[l.call(r)]||"object":typeof r}function e(r,n,t){var e=h[n.type]||{};return null==r?t||!n.def?null:n.def:(r=e.floor?~~r:parseFloat(r),e.mod?(r+e.mod)%e.mod:Math.min(e.max,Math.max(0,r)))}function o(n){var t=p(),e=t._rgba=[];return n=n.toLowerCase(),b(c,function(r,o){var a,i=o.re.exec(n),s=i&&o.parse(i),u=o.space||"rgba";if(s)return a=t[u](s),t[d[u].cache]=a[d[u].cache],e=t._rgba=a._rgba,!1}),e.length?("0,0,0,0"===e.join()&&r.extend(e,i.transparent),t):i[n]}function a(r,n,t){return t=(t+1)%1,6*t<1?r+(n-r)*t*6:2*t<1?n:3*t<2?r+(n-r)*(2/3-t)*6:r}var i,s="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",u={},l=u.toString,f=/^([\-+])=\s*(\d+\.?\d*)/,c=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[r[1],r[2],r[3],r[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(r){return[2.55*r[1],2.55*r[2],2.55*r[3],r[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(r){return[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(r){return[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(r){return[r[1],r[2]/100,r[3]/100,r[4]]}}],p=r.Color=function(n,t,e,o){return new r.Color.fn.parse(n,t,e,o)},d={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},h={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},b=r.each;b(d,function(r,n){n.cache="_"+r,n.props.alpha={idx:3,type:"percent",def:1}}),r.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(r,n){u["[object "+n+"]"]=n.toLowerCase()}),p.fn=r.extend(p.prototype,{parse:function(a,s,u,l){if(a===n)return this._rgba=[null,null,null,null],this;(a.jquery||a.nodeType)&&(a=r(a).css(s),s=n);var f=this,c=t(a),h=this._rgba=[];return s!==n&&(a=[a,s,u,l],c="array"),"string"===c?this.parse(o(a)||i._default):"array"===c?(b(d.rgba.props,function(r,n){h[n.idx]=e(a[n.idx],n)}),this):"object"===c?(b(d,a instanceof p?function(r,n){a[n.cache]&&(f[n.cache]=a[n.cache].slice())}:function(n,t){var o=t.cache;b(t.props,function(r,n){if(!f[o]&&t.to){if("alpha"===r||null==a[r])return;f[o]=t.to(f._rgba)}f[o][n.idx]=e(a[r],n,!0)}),f[o]&&r.inArray(null,f[o].slice(0,3))<0&&(null==f[o][3]&&(f[o][3]=1),t.from&&(f._rgba=t.from(f[o])))}),this):void 0},is:function(r){var n=p(r),t=!0,e=this;return b(d,function(r,o){var a,i=n[o.cache];return i&&(a=e[o.cache]||o.to&&o.to(e._rgba)||[],b(o.props,function(r,n){if(null!=i[n.idx])return t=i[n.idx]===a[n.idx],t})),t}),t},_space:function(){var r=[],n=this;return b(d,function(t,e){n[e.cache]&&r.push(t)}),r.pop()},transition:function(r,n){var t=p(r),o=t._space(),a=d[o],i=0===this.alpha()?p("transparent"):this,s=i[a.cache]||a.to(i._rgba),u=s.slice();return t=t[a.cache],b(a.props,function(r,o){var a=o.idx,i=s[a],l=t[a],f=h[o.type]||{};null!==l&&(null===i?u[a]=l:(f.mod&&(l-i>f.mod/2?i+=f.mod:i-l>f.mod/2&&(i-=f.mod)),u[a]=e((l-i)*n+i,o)))}),this[o](u)},blend:function(n){if(1===this._rgba[3])return this;var t=this._rgba.slice(),e=t.pop(),o=p(n)._rgba;return p(r.map(t,function(r,n){return(1-e)*o[n]+e*r}))},toRgbaString:function(){var n="rgba(",t=r.map(this._rgba,function(r,n){return null!=r?r:n>2?1:0});return 1===t[3]&&(t.pop(),n="rgb("),n+t.join()+")"},toHslaString:function(){var n="hsla(",t=r.map(this.hsla(),function(r,n){return null==r&&(r=n>2?1:0),n&&n<3&&(r=Math.round(100*r)+"%"),r});return 1===t[3]&&(t.pop(),n="hsl("),n+t.join()+")"},toHexString:function(n){var t=this._rgba.slice(),e=t.pop();return n&&t.push(~~(255*e)),"#"+r.map(t,function(r){return("0"+(r||0).toString(16)).substr(-2)}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),p.fn.parse.prototype=p.fn,d.hsla.to=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n,t,e=r[0]/255,o=r[1]/255,a=r[2]/255,i=r[3],s=Math.max(e,o,a),u=Math.min(e,o,a),l=s-u,f=s+u,c=.5*f;return n=u===s?0:e===s?60*(o-a)/l+360:o===s?60*(a-e)/l+120:60*(e-o)/l+240,t=0===l?0:c<=.5?l/f:l/(2-f),[Math.round(n)%360,t,c,null==i?1:i]},d.hsla.from=function(r){if(null==r[0]||null==r[1]||null==r[2])return[null,null,null,r[3]];var n=r[0]/360,t=r[1],e=r[2],o=r[3],i=e<=.5?e*(1+t):e+t-e*t,s=2*e-i;return[Math.round(255*a(s,i,n+1/3)),Math.round(255*a(s,i,n)),Math.round(255*a(s,i,n-1/3)),o]},b(d,function(r,o){var a=o.props,i=o.cache,s=o.to,u=o.from;p.fn[r]=function(r){if(s&&!this[i]&&(this[i]=s(this._rgba)),r===n)return this[i].slice();var o,l=t(r),f="array"===l||"object"===l?r:arguments,c=this[i].slice();return b(a,function(r,n){var t=f["object"===l?r:n.idx];null==t&&(t=c[n.idx]),c[n.idx]=e(t,n)}),u?(o=p(u(c)),o[i]=c,o):p(c)},b(a,function(n,e){p.fn[n]||(p.fn[n]=function(o){var a,i,s,u,l=t(o);return u="alpha"===n?this._hsla?"hsla":"rgba":r,a=this[u](),i=a[e.idx],"undefined"===l?i:("function"===l&&(o=o.call(this,i),l=t(o)),null==o&&e.empty?this:("string"===l&&(s=f.exec(o),s&&(o=i+parseFloat(s[2])*("+"===s[1]?1:-1))),a[e.idx]=o,this[u](a)))})})}),p.hook=function(n){var e=n.split(" ");b(e,function(n,e){r.cssHooks[e]={set:function(r,n){var a;"transparent"===n||"string"===t(n)&&!(a=o(n))||(n=p(a||n),n=n.toRgbaString()),r.style[e]=n}},r.fx.step[e]=function(n){n.colorInit||(n.start=p(n.elem,e),n.end=p(n.end),n.colorInit=!0),r.cssHooks[e].set(n.elem,n.start.transition(n.end,n.pos))}})},p.hook(s),r.cssHooks.borderColor={expand:function(r){var n={};return b(["Top","Right","Bottom","Left"],function(t,e){n["border"+e+"Color"]=r}),n}},i=r.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}});