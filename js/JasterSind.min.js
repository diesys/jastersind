function dotClick(t){dotNumber=parseInt(this.id.split("d")[1]),$(this).addClass("active"),colIx=lastGuess[dotNumber],-1==colIx?colIx=t.shiftKey?n_colors-1:0:colIx=lastGuess[dotNumber]+(t.shiftKey?-1:1)+n_colors,lastGuess[dotNumber]=colIx%n_colors,$(this).animate({backgroundColor:colorsList[colIx%n_colors]},200,"swing")}function getUrlVars(){var t={};window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,function(e,s,o){t[s]=o});return t}function check(t,e){for(res=[0,0],target=t.slice(0),guess=e.slice(0),i=0;i<guess.length;i++)target[i]==guess[i]&&(target[i]=guess[i]=void 0,res[0]+=1);for(i=0;i<guess.length;i++)null!=guess[i]&&-1!=target.indexOf(guess[i])&&(target[target.indexOf(guess[i])]=void 0,res[1]++);return res}function submit(){-1==lastGuess.indexOf(-1)&&(chk=check(configuration,lastGuess),showRes(chk),4==chk[0]?($(".dot.sol").each(function(){dotNumber=parseInt(this.id.split("l")[1]);var t=colorsList[configuration[dotNumber]];$(this).css("background-color",t)}),win_msg=document.createElement("DIV"),win_msg.classList="win_message",tries=$(".try.dot").length/4,win_msg.innerHTML="Congrats, you found the combination in "+(1==tries?"1 try!":tries+" tries!"),document.querySelector("#gameboard").appendChild(win_msg),$("#solutionContainer").removeClass("hidden"),$("#submit").animate({opacity:"0"},200,"swing"),$("#submit").attr("style","display: none"),$(".win_message").animate({opacity:"1"},800,"swing")):(lastGuess=[-1,-1,-1,-1],newTry()))}function newTry(){const t=document.getElementsByClassName("try dot");if(t.length)for(i=t.length-4;i<t.length;i++)t[i].onclick=null;for(movesC=document.getElementById("movesContainer"),dotsC=document.createElement("OL"),dotsC.id="move"+N,dotsC.classList="dotsContainer",i=0;i<4;i++)dot=document.createElement("LI"),dot.classList="try dot",dot.id="m"+N+"d"+i,dot.onclick=dotClick,dotsC.appendChild(dot);for(movesC.appendChild(dotsC),ansC=document.createElement("DIV"),ansC.classList="answer hidden",i=0;i<2;i++){for(ansC_sub=document.createElement("OL"),ansC_sub.classList="answer_l"+i,j=0;j<2;j++)dotlet=document.createElement("LI"),dotlet.id="a"+N+"2d"+(2*i+j),dotlet.classList="dot_answ",ansC_sub.appendChild(dotlet);ansC.appendChild(ansC_sub)}dotsC.appendChild(ansC),N&&(btn=document.createElement("A"),btn.id="submit",btn.onclick=submit,btnchk=document.createElement("I"),btnchk.className="checkBtn circle",btnchk.innerHTML="&#x2714;",btn.appendChild(btnchk),dotsC.appendChild(btn)),N++}function showRes(t){for(dotN=0,$(".answer.hidden").removeClass("hidden"),$(".answer").animate({opacity:"1"},800,"swing"),i=0;i<t[0];i++)$("#a"+(N-1)+"2d"+dotN).animate({backgroundColor:answerCol[0]},500,"swing"),$("#a"+(N-1)+"2d"+dotN).addClass("active"),dotN++;for(i=0;i<t[1];i++)$("#a"+(N-1)+"2d"+dotN).animate({backgroundColor:answerCol[1]},500,"swing"),$("#a"+(N-1)+"2d"+dotN).addClass("active"),dotN++}function createGame(t,e=!1){for(configuration=[],i=0;i<4;i++)configuration.push(Math.floor(Math.random()*t));e&&$(".dot.sol").each(function(){dotNumber=parseInt(this.id.split("l")[1]);var t=colorsList[configuration[dotNumber]];$(this).css("background-color",t)});let s=document.querySelector("#movesContainer");for(;s.firstChild;)s.removeChild(s.firstChild);newTry()}var colorsList=["#f73030","#f7d843","#69e569","#406df6","#9351d3","#db46be","#ec8c34","#36e1ec","#f4f4f4"],answerCol=[colorsList[0],"#ffffff"],n_colors=9,configuration=[],lastGuess=[-1,-1,-1,-1],N=0;$(document).ready(function(){$(".try.dot").bind("click",dotClick)});